I am not able to get my custom map working using the instructions on D2L. I am encountering the same API key bug that is present in the first two tutorials, but I have not been able to resolve it using the suggested method.
I attempted to insert both raw feature classes (as you can see in my final submission) and I also attempted to insert a pre-created web map as an alternative, but I had no luck getting either to work. Removing the API key and setting all of
the components to public in ArcGIS Online just displays a login screen regardless of whether I'm signed into AGOL or not. If I close the login prompt, it displays the underlying feature classes, but not the base maps and the zoom/centre settings I've set seem to have no effect. Replacing the API key with a temporary token and running it locally results in the same appearance, with no base maps but the feature classes present. The developer console reports a 403: Forbidden error when using a token, instead of the 401 reported when using an API key. I have included a screenshot of the map appearance in both of these cases <a href=https://tylerrubini.github.io/geom99lab2/valentinebug.png>here</a>. 
This is occurring in Mozilla Firefox, but I have replicated both issues in Microsoft Edge as well.
